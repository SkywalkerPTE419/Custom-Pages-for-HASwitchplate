#####################################
automation:
########################################
# Open Menu by pressing the Menu Button on the weather page

  - alias: hasp_plate01_p1_OpenMenu
    trigger:
    - platform: mqtt
      topic: 'hasp/plate01/state/p[3].b[1]'
      payload: 'ON'
    action:
    - service: mqtt.publish
      topic: 'hasp/plate01/command/page'
      payload: '1'
      
# Set labels for each button
  
  # Initialize button labels
  - alias: hasp_plate01_p1_ButtonInit
    trigger:
    - platform: state
      entity_id: 'binary_sensor.plate01_connected'
      to: 'on'
    - platform: homeassistant
      event: start
      
    action:   
    # Text/font Home button
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/p[1].b[1].font'
        payload: '7'
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/p[1].b[1].txt'
        payload: '"Home"'
        
    # Text/font Sliders label
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/p[1].b[2].font'
        payload: '7'
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/p[1].b[2].txt'
        payload: '"Sliders"'
      
    # Text/font Menu Button Thermostat label
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/p[1].b[3].font'
        payload: '7'
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/p[1].b[3].txt'
        payload: '"Thermostat"'
     
    # Text/font menu button Playlist label
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/p[1].b[4].font'
        payload: '7'
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/p[1].b[4].txt'
        payload: '"Playlist"'
      
    # Text/font Label - button scenes
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/p[1].b[5].font'
        payload: '7'
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/p[1].b[5].txt'
        payload: '"Scenes"'

#####################################
#  Switch to page on button press
# Home button 
  - alias: hasp_plate01_p1_HomeButtonAction
    trigger:
    - platform: mqtt
      topic: 'hasp/plate01/state/p[1].b[6]'
      payload: 'ON'
    action:
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/page'
        payload: '3'
      
  - alias: hasp_plate01_p1_SlidersButtonAction
    trigger:
    - platform: mqtt
      topic: 'hasp/plate01/state/p[1].b[7]'
      payload: 'ON'
    action:
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/page'
        payload: '4'
      
  - alias: hasp_plate01_p1_ThermostatButtonAction
    trigger:
    - platform: mqtt
      topic: 'hasp/plate01/state/p[1].b[8]'
      payload: 'ON'
    action:
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/page'
        payload: '5'
      
  - alias: hasp_plate01_p1_PlaylistButtonAction
    trigger:
    - platform: mqtt
      topic: 'hasp/plate01/state/p[1].b[9]'
      payload: 'ON'
    action:
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/page'
        payload: '7'
      
  - alias: hasp_plate01_p1_ScenesButtonAction
    trigger:
    - platform: mqtt
      topic: 'hasp/plate01/state/p[1].b[10]'
      payload: 'ON'
    action:
    - service: mqtt.publish
      data:
        topic: 'hasp/plate01/command/page'
        payload: '2'
